# SQL

SQL ì€ `Structured Query Language` ì˜ ì¤„ìž„ë§ë¡œ ì§ì—­í•˜ë©´ êµ¬ì¡°ì  ì§ˆì˜ ì–¸ì–´ì´ë‹¤. **SQL ì€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì—ì„œ ë°ì´í„°ë¥¼ ê´€ë¦¬ ë° ê°€ê³µí•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ ì–¸ì–´ì´ë‹¤.**

# SQL ìµœì í™”

DBMS ë‚´ë¶€ì—ì„œ í”„ë¡œì‹œì €ë¥¼ ìž‘ì„±í•˜ê³  ì»´íŒŒì¼í•´ì„œ ì‹¤í–‰ ê°€ëŠ¥í•œ ìƒíƒœë¡œ ë§Œë“œëŠ” ì „ ê³¼ì •ì„ `SQL ìµœì í™”`ë¼ê³  í•œë‹¤.
> ðŸ’¡í”„ë¡œì‹œì €ëž€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¼ë ¨ì˜ ìž‘ì—…ì— ëŒ€í•œ ì ˆì°¨ë¥¼ DBMS ì— ì €ìž¥í•œ ê²ƒìœ¼ë¡œ ì˜êµ¬ì €ìž¥ ëª¨ë“ˆì´ë¼ê³  ë¶ˆë¦°ë‹¤.

### SQL ì„ ì‹¤í–‰í•˜ê¸° ì „ ìµœì í™” ê³¼ì •ì„ ì„¸ë¶„í™”í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

1. `SQL íŒŒì‹±`
    - ì‚¬ìš©ìžë¡œë¶€í„° SQL ì„ ì „ë‹¬ ë°›ìœ¼ë©´ ê°€ìž¥ ë¨¼ì € SQL íŒŒì„œê°€ í•´ë‹¹ SQL ì„ íŒŒì‹±í•œë‹¤. íŒŒì‹± ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
        - íŒŒì‹± íŠ¸ë¦¬ ìƒì„±: SQL ë¬¸ì„ ì´ë£¨ëŠ” ê°œë³„ êµ¬ì„±ìš”ì†Œë¥¼ ë¶„ì„í•´ì„œ íŒŒì‹± íŠ¸ë¦¬ë¥¼ ìƒì„±í•œë‹¤.
        - Syntax ì²´í¬: SQL ë¬¸ë²•ì´ ì˜¬ë°”ë¥¸ì§€ ì²´í¬í•œë‹¤. ex) ì¡´ìž¬í•˜ì§€ ì•ŠëŠ” í‚¤ì›Œë“œ ìž…ë ¥, í‚¤ì›Œë“œì˜ ìˆœì„œ
        - Semantic ì²´í¬: ì˜ë¯¸ìƒ ì˜¤ë¥˜ê°€ ì—†ëŠ”ì§€ë¥¼ ì²´í¬í•œë‹¤. ex) í…Œì´ë¸” ì ‘ê·¼ ê¶Œí•œ, ì˜¬ë°”ë¥´ì§€ ì•Šì€ ì»¬ëŸ¼ëª… ìž…ë ¥
2. `SQL ìµœì í™”`
    - ì˜µí‹°ë§ˆì´ì €ê°€ SQL ìµœì í™”ë¥¼ ë‹´ë‹¹í•œë‹¤. ì˜µí‹°ë§ˆì´ì €ëŠ” ë¯¸ë¦¬ ìˆ˜ì§‘í•œ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¤ì–‘í•œ ì‹¤í–‰ê²½ë¡œë¥¼ ìƒì„±í•˜ì—¬ ë¹„êµë¥¼ í†µí•´ ê°€ìž¥ íš¨ìœ¨ì ì¸ í•˜ë‚˜ë¥¼ ì„ íƒí•œë‹¤.
3. `ë¡œìš° ì†ŒìŠ¤ ìƒì„±`
    - ì˜µí‹°ë§ˆì´ì €ì— ì˜í•´ ì„ íƒëœ ì‹¤í–‰ê²½ë¡œë¥¼ ì‹¤í–‰ ê°€ëŠ¥í•œ ì½”ë“œ ë˜ëŠ” í”„ë¡œì‹œì €ì˜ í˜•íƒœë¡œ í¬ë§¤íŒ…í•˜ëŠ” ë‹¨ê³„ì´ë‹¤. ë¡œìš° ì†ŒìŠ¤ ìƒì„±ê¸°ê°€ ì´ ì—­í• ì„ ë§¡ëŠ”ë‹¤.

# SQL ì˜µí‹°ë§ˆì´ì €

ì˜µí‹°ë§ˆì´ì €ëŠ” ì‚¬ìš©ìžê°€ ì›í•˜ëŠ” ìž‘ì—…ì„ ê°€ìž¥ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìžˆëŠ” ìµœì ì˜ ê²½ë¡œë¥¼ ì„ íƒí•´ì£¼ëŠ” `DBMS ì˜ í•µì‹¬ ì—”ì§„`ì´ë‹¤. ì˜µí‹°ë§ˆì´ì €ê°€ ì‹¤í–‰ê³„íšì„ ì„ íƒí•˜ëŠ” ë‹¨ê³„ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
1. ì‚¬ìš©ìžë¡œë¶€í„° ì „ë‹¬ë°›ì€ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë° í›„ë³´êµ°ì´ ë ë§Œí•œ ì‹¤í–‰ê³„íšë“¤ì„ ì°¾ì•„ë‚¸ë‹¤.
2. ë°ì´í„° ë”•ì…”ë„ˆë¦¬ì— ë¯¸ë¦¬ ìˆ˜ì§‘í•´ ë‘” ì •ë³´ë“¤ì„ ì´ìš©í•˜ì—¬ ê° ì‹¤í–‰ê³„íšì˜ ë¹„ìš©ì„ ë¹„êµí•œë‹¤.
3. ê·¸ ì¤‘ ê°€ìž¥ íš¨ìœ¨ì ì¸ ì‹¤í–‰ê³„íšì„ ì„ íƒí•œë‹¤.

# ì‹¤í–‰ê³„íšê³¼ ë¹„ìš©
DBMS ëŠ” ì˜µí‹°ë§ˆì´ì €ê°€ ìƒì„±í•œ ì²˜ë¦¬ì ˆì°¨ë¥¼ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ í‘œí˜„í•˜ì—¬ ì‚¬ìš©ìžê°€ ë³¼ ìˆ˜ ìžˆë„ë¡ ì œê³µí•´ì¤€ë‹¤. ì´ê²ƒì„ `ì‹¤í–‰ê³„íš`ì´ë¼ê³  í•œë‹¤.

ì‹¤í–‰ê³„íšì„ ë•ë¶„ì— ì‚¬ìš©ìžê°€ ìž‘ì„±í•œ SQL ì´ í…Œì´ë¸”, ì¸ë±ìŠ¤ë¥¼ ìŠ¤ìº”í•˜ëŠ”ì§€, ë§Œì•½ ì¸ë±ìŠ¤ë¥¼ ìŠ¤ìº”í•œë‹¤ë©´ ì–´ë–¤ ì¸ë±ìŠ¤ë¥¼ ìŠ¤ìº”í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìžˆë‹¤.


### ì˜µí‹°ë§ˆì´ì €ê°€ ì‹¤í–‰ê³„íšì„ ì„¸ìš°ëŠ” ê·¼ê±°ëŠ” ë¬´ì—‡ì¼ê¹Œ?
ì˜µí‹°ë§ˆì´ì €ëŠ” `ë¹„ìš©(coast)`ì´ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•œë‹¤. ë¹„ìš©ì´ëž€ ì¿¼ë¦¬ê°€ ìˆ˜í–‰ë˜ëŠ” ë™ì•ˆ ë°œìƒí•  ê²ƒìœ¼ë¡œ ì˜ˆìƒí•˜ëŠ” I/O íšŸìˆ˜ ë˜ëŠ” ì˜ˆìƒ ì†Œìš” ì‹œê°„ì„ í‘œí˜„í•œ ê°’ì´ë‹¤. ì˜µí‹°ë§ˆì´ì €ëŠ” ì´ ë¹„ìš©ì´ ê°€ìž¥ ì ì€ ì²˜ë¦¬ì ˆì°¨ë¥¼ ì„ íƒí•˜ì—¬ ì‹¤í–‰ê³„íšì„ ì„¸ìš°ê²Œ ëœë‹¤.

í•˜ì§€ë§Œ ë¹„ìš©ì€ ì˜µí‹°ë§ˆì´ì €ê°€ ì—¬ëŸ¬ ì •ë³´ë¥¼ í†µí•´ ì˜ˆìƒí•œ ê°’ì´ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì‹¤ì œ ìˆ˜í–‰í•  ë•Œ ë°œìƒë˜ëŠ” I/O ë˜ëŠ” ì‹œê°„ê³¼ ì°¨ì´ê°€ ë°œìƒí•œë‹¤.

# ì˜µí‹°ë§ˆì´ì € ížŒíŠ¸
ì˜µí‹°ë§ˆì´ì €ëŠ” ë³´íŽ¸ì ìœ¼ë¡œ ìµœì ì˜ ì‹¤í–‰ê³„íšì„ ì„ íƒí•´ì¤€ë‹¤. í•˜ì§€ë§Œ ì˜µí‹°ë§ˆì´ì €ëŠ” `ë¹„í˜„ì‹¤ì ì¸ ê°€ì •`, `í•˜ë“œì›¨ì–´ ì„±ëŠ¥`, `ë¶€ì •í™•í•œ í†µê³„ì •ë³´` ë“±ì˜ ë¬¸ì œë¡œ ì¸í•œ í•œê³„ê°€ ì¡´ìž¬í•œë‹¤. ë•Œë¬¸ì— í•­ìƒ ì™„ë²½í•œ ê²ƒì€ ì•„ë‹ˆë‹¤. ì´ëŸ¬í•œ ê²½ìš° ì˜µí‹°ë§ˆì´ì € ížŒíŠ¸ë¥¼ ì´ìš©í•˜ì—¬ ê°œë°œìžê°€ ì§ì ‘ ì‹¤í–‰ê³„íšì„ ì„¤ì •í•  ìˆ˜ ìžˆë‹¤.

ížŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì£¼ì„ ê¸°í˜¸ì— `+` ë¥¼ ë¶™ì´ë©´ ëœë‹¤.

```SQL
SELECT /*+ INDEX(m  member_pk) */
     name, age, created_at
FROM MEMBER as m
WHERE m.id = 1
```
ì•„ëž˜ì™€ ê°™ì€ ë°©ì‹ë„ ìžˆì§€ë§Œ ì£¼ì„ì²˜ë¦¬ë¡œ ì¸í•œ ì¤„ë°”ê¿ˆ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— ê¶Œìž¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
```SQL
SELECT --+ INDEX(m  member_pk)
     name, age, created_at
FROM MEMBER as m
WHERE m.id = 1
```

### ížŒíŠ¸ ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­
- ížŒíŠ¸ ì•ˆì— ì¸ìžë¥¼ ë‚˜ì—´í•  ë• `,` ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆì§€ë§Œ, ížŒíŠ¸ì™€ ížŒíŠ¸ ìƒì— ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤.
```SQL
/*+ INDEX(A A_X01) INDEX(B, B_X01) */ -> ëª¨ë‘ ìœ íš¨
/*+ INDEX(C), FULL(D) */ -> ì²« ë²ˆì§¸ ížŒíŠ¸ë§Œ ìœ íš¨
```
- í…Œì´ë¸”ì„ ì§€ì •í•  ë•Œ ì•„ëž˜ì™€ ê°™ì´ ìŠ¤í‚¤ë§ˆëª…ê¹Œì§€ ëª…ì‹œí•˜ë©´ ì•ˆëœë‹¤.
```SQL
SELECT /*+ FULL(MEMBER.NAME) */ -> ë¬´íš¨
FROM MEMBER
```
- FROM ì ˆ í…Œì´ë¸”ëª…ì— ALIAS ë¥¼ ì§€ì •í–ˆë‹¤ë©´, ížŒíŠ¸ì—ë„ ë°˜ë“œì‹œ ALIAS ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šì„ ê²½ìš° í•´ë‹¹ ížŒíŠ¸ëŠ” ë¬´ì‹œëœë‹¤.
```SQL
SELECT /*+ FULL(NAME) */ -> ë¬´íš¨
FROM MEMBER as m
```
